<?xml version='1.0' encoding='windows-1251' ?>
<ui:composition 
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich">

	
<h3 class="ui-widget-header">Список Пользователей</h3>

<div class="ui-layout-content" >
 <a4j:outputPanel id="outCenterCenter">
  
	<rich:dataTable id="usr_dt"
	    style="width:100%" var="it"
        value="#{usrManager.listUsr}"
        rowKeyVar="rkv"
        rows="#{profile.rowsCountUsr}">
        <!--rich:column>
                <h:outputText value="#{rkv+1}"></h:outputText>
            </rich:column-->
          <rich:column>
             <f:facet name="header">
                  <h:outputText value="ФИО" />
             </f:facet>
             <a4j:commandLink action="#{usrManager.forView}"
              reRender="outCenterBottom"
              ajaxSingle="true" >
               <h:outputText value="#{it.fio}"/>
               <f:param name="idUsr" value="#{it.idUser}"/>
              </a4j:commandLink>
             </rich:column>
              <rich:column>
              <f:facet name="header">
                  <h:outputText value="Организация" />
               </f:facet>
                <h:outputText value="#{it.acOrganization2.fullName}"/>
              </rich:column>
             <rich:column>
              <f:facet name="header">
                  <h:outputText value="Телефон" />
               </f:facet>
                <h:outputText value="#{it.phone}"/>
              </rich:column>
              <rich:column>
               <f:facet name="header">
                  <h:outputText value="E-mail" />
               </f:facet>
                <h:outputText value="#{it.email}"/>
             </rich:column>
             <!--f:facet name="footer">
               <h:panelGroup>
                 <h:panelGrid columns="5">
                  <h:outputText value="Строк:" />
                  <h:inputText value="#{profile.rowsCountUsr}" size="1" maxlength="3"/>
                  <a4j:commandLink reRender="outCenterCenter">
                    <h:graphicImage url="/img/icons/Da.gif" styleClass="img-in-link" height="14" width="14"/>
                  </a4j:commandLink> 
                  <div style="width:50px;"></div>
                  <rich:datascroller align="center" for="usr_dt" 
                          maxPages="20" stepControls="hide" 
                          ajaxSingle="true" 
                          renderIfSinglePage="false" immediate="true"
                          reRender="outCenterCenter"/>
                </h:panelGrid>
               </h:panelGroup>
              </f:facet-->
          </rich:dataTable>
    
    </a4j:outputPanel>
</div>

<div class="ui-widget-footer" style="background:#E6E6E6;">
   <a4j:outputPanel id="outCenterCenterFooter">
    
    <table>
      <tr>
       <td>
         <!--s:div rendered="#{hostsManager.evaluteForListFooter}"-->
       
         <table style="width:95%" border="0">
           <tr>
            <td width="40px;">
            <h:outputText value="Строк:" />
             </td>
            <td width="50px;">
            <rich:inputNumberSpinner 
                       value="#{profile.rowsCountUsr}" 
                       inputSize="1"
                       id="rowCId"
                       minValue="5"
                       enableManualInput="false"
                       oninputkeypress="return false;"/>
             </td>
             <td width="20px;">
              <a4j:commandLink reRender="outCenterCenter,outCenterCenterFooter"
                             ajaxSingle="true" process="rowCId">
                <h:graphicImage url="/img/icons/Da.gif" styleClass="img-in-link" height="14" width="14"/>
                <!--f:param name="#{param['sessionId']!=null ? 'sessionId' : 'xxx1'}" value="#{param['sessionId']}"/>
                <f:param name="remoteAudit" value="rowCountFact"/-->
             </a4j:commandLink>
           </td>
           <td>
            <rich:datascroller align="center" for="usr_dt" 
                          maxPages="5" stepControls="hide" 
                          id="usr_dt_dscr" immediate="true"
                          renderIfSinglePage="false"
                          reRender="outCenterCenter" 
                          ajaxSingle="true">
                    <!--f:param name="auditListCount" value="#{hostsDataModel.rowCount2}"/>
                    <f:param name="#{param['sessionId']!=null ? 'sessionId' : 'xxx1'}" value="#{param['sessionId']}"/>
                    <f:param name="remoteAudit" value="dScrollFact"/-->
              </rich:datascroller> 
             </td>
             <!--td width="80px;">
              <a4j:commandLink 
               value="Столбцы"
               onclick="invokeSelectColumns(
                   '1',
                   '#{param['sessionId']}',
                   '#{param['entryid']}',
                   'onSelColFact',
                   '#{param['idRai']}',
                   '#{param['auditListCount'] != null ? param['auditListCount'] : auditDataModel.rowCount}');return false;">
               </a4j:commandLink>
              </td-->
             </tr>
           </table>
      
          <!--/s:div-->
         
       </td>
        <td height="25px;">
         <h:outputText value="&amp;nbsp;" escape="false"/>
       </td>
      </tr>
     </table>
     </a4j:outputPanel>
   </div>    

</ui:composition>
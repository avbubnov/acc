<?xml version='1.0' encoding='windows-1251' ?>
<ui:composition 
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:s="http://jboss.com/products/seam/taglib"
      xmlns:c="http://java.sun.com/jstl/core">

<h3 class="ui-widget-header">Подробно</h3>
<div class="ui-layout-content">
<a4j:outputPanel id="outCenterBottom">

<table style="width:100%;" border="0">
<tr>
<td width="90%">

 <div style="margin:5px;"> 
  
  <!--c:if test="#{armGroupManager.evaluteForBean}"--> 
  <s:div rendered="#{armGroupManager.evaluteForBean}">
 
    <h:form>

  <a4j:outputPanel id="outCenterBottom_onlyFields">
  
    <h:messages style="color:red" globalOnly="false" />
 
     <table style="width:100%; font-size:12px;" border="0">
          <c:forEach items="#{armGroupManager.auditItemsListContext}" var="field"> 
           <tr>
            <td width="150px" height="25px" class="table_left_header">
              <h:outputText value="#{field.itemLabel}"/>
            </td>
            <td>
               <h:outputText value="#{armGroupBean[field.itemField]}"/>
            </td>
          </tr>
         </c:forEach>  
         <tr>
           <td width="150px" height="25px" class="table_left_header"
              style="padding-top:10px;" valign="top">
             <h:outputText value="Системы"/>
            </td>
            <td style="padding-top:10px;" valign="top">
               <table style="width:100%;margin-bottom:10px;">
                  <c:forEach items="#{armGroupManager.ISSelectListForView}" var="uit"> 
                      <tr>
                        <td height="15">
                          <h:outputText value=" #{uit.name}  [#{uit.code}]" />
                         </td>
                       </tr>
                     </c:forEach> 
                 </table> 
            </td>
          </tr>  
          <!--tr>
            <td width="150px" height="25px" class="table_left_header">
              <h:outputText value="Создал"/>
            </td>
            <td>
               <h:outputText value="#{armGroupBean.crtUserName}"/>
            </td>
          </tr>
          <tr>
            <td width="150px" height="25px" class="table_left_header">
              <h:outputText value="Дата создания"/>
            </td>
            <td>
               <h:outputText value="#{armGroupBean.created}">
                  <s:convertDateTime pattern="dd.MM.yy HH:mm:ss"/>
               </h:outputText>   
            </td>
          </tr>
          <tr>
            <td width="150px" height="25px" class="table_left_header">
              <h:outputText value="Редактировал"/>
            </td>
            <td>
               <h:outputText value="#{armGroupBean.updUserName}"/>
            </td>
          </tr>
          <tr>
            <td width="150px" height="25px" class="table_left_header">
              <h:outputText value="Дата редактирования"/>
            </td>
            <td>
               <h:outputText value="#{armGroupBean.modified}">
                  <s:convertDateTime pattern="dd.MM.yy HH:mm:ss"/>
               </h:outputText>
            </td>
          </tr-->
         </table>
         </a4j:outputPanel>
         
        <a4j:outputPanel id="outCenterBottom_onlyCert">
      
          <table style="width:100%; font-size:12px;" border="0">
          <tr>
            <td height="25px" colspan="2">
              <h:outputText value="Сертификат:" style="font-style:italic;"/>
            </td>
          </tr>  
          <tr>
            <td width="150px" height="25px" class="table_left_header" >
              <h:outputText value="срок действия"/>
            </td>
            <td>
               <h:outputText value="#{systemCertBean.date1} - #{systemCertBean.date2}"/>
            </td>
          </tr>       
           <tr>
            <td width="150px" height="25px" class="table_left_header" >
              <h:outputText value="номер"/>
            </td>
            <td>
               <h:outputText value="#{systemCertBean.serial}"/>
            </td>
          </tr>  
          <tr valign="top">
            <td width="150px" height="25px" class="table_left_header" style="padding-top:7px;">
              <h:outputText value="субъект"/>
            </td>
            <td style="padding-top:10px;">
               <h:outputText value="#{systemCertBean.name}"/>
            </td>
          </tr> 
          
        </table>
        </a4j:outputPanel>
         
         
        </h:form>
        </s:div>
      <!--/c:if-->
  </div>
 </td>
 <td width="90px" valign="top">
  <!--rich:panel style="margin:5px 5px 0 0;">
   <f:facet name="header">
    Действия:
   </f:facet>
   <a4j:form>
     <a4j:commandButton style="width:60px;" value="Создать"
       reRender="outCBmpCrt" ajaxSingle="true"
       oncomplete="#{rich:component('CBmpCrt')}.show();"
       rendered="#{authenticator.accessPerm('004','2')}"
       styleClass="but_class">
          <f:param name="onCreate" value="1"/>
      </a4j:commandButton>
    
     <s:div rendered="#{param['idArmGroup']!=null}">
     
      <a4j:commandButton style="margin-top:5px;width:60px;"
         ajaxSingle="true" reRender="outCBmpUpd"
         value="Изменить" action="#{armManager.forView}"
         oncomplete="#{rich:component('CBmpUpd')}.show();"
         rendered="#{authenticator.accessPerm('004','3')}"
         styleClass="but_class">
         <f:param name="onUpdate" value="1"/>
         <f:param name="idArmGroup" value="#{param['idArmGroup']}"/>
       </a4j:commandButton>
     
      <a4j:commandButton 
         reRender="outCBmpDel"
         value="Удалить" 
         action="#{armGroupManager.forViewDel}"
         oncomplete="#{rich:component('CBmpDel')}.show();"
         style="margin-top:5px;width:60px;" 
         rendered="#{authenticator.accessPerm('004','4')}"
         styleClass="but_class">
         <f:param name="onDelete" value="1"/>
         <f:param name="idArmGroup" value="#{param['idArmGroup']}"/>
       </a4j:commandButton>
     </s:div>
    </a4j:form>
   </rich:panel-->
  </td>
 </tr>
</table>

</a4j:outputPanel>
</div>
 
  <div class="ui-widget-footer" style="background:#E6E6E6;">
    <a4j:outputPanel id="outCBmpCrt">
     <rich:modalPanel id="CBmpCrt" rendered="#{param['onCreate']!=null}"
                    width="400" height="180">
      <f:facet name="header">
            <h:panelGroup>
                <h:outputText value="Группа ИС"></h:outputText>
             </h:panelGroup>
      </f:facet>
       <f:facet name="controls">
            <h:panelGroup>
                <h:graphicImage onclick="#{rich:component('CBmpCrt')}.hide();"
                value="/img/icons/close.gif" />
              </h:panelGroup>
        </f:facet>
        <h:form id="CBformCrt">
         <table style="width:100%;">
            <tr>
            <td width="100px" height="25px">
            <h:outputText value="Название"/></td>
            <td><h:inputText value="#{armGroupBeanCrt.groupName}"
                 id="name" maxlength="100" size="45"/></td>
            </tr>
            <tr>
            <td width="100px" height="25px">
            <h:outputText value="Код"/></td>
            <td>
             <h:outputText value="urn:group-eis:"/>
             <h:inputText value="#{armGroupBeanCrt.groupCode}"
               id="code" maxlength="240" size="33"/>
            </td>
            </tr>
            <tr>
            <td width="100px" height="25px">
            <h:outputText value="Описание"/></td>
            <td>
            <h:inputTextarea value="#{armGroupBeanCrt.description}" 
            id="descr" cols="41" rows="3" />
            </td>
            </tr>
            <tr>
            <td colspan="2" align="center" height="35px">
            <a4j:commandButton value="Отмена"
                     onclick="#{rich:component('CBmpCrt')}.hide();return false;"
                     styleClass="but_class"/>
            <a4j:commandButton value="Сохранить"
                    action="#{armGroupManager.addArmGroup}"
                    reRender="outCenterCenter, outCenterCenterFooter"
                    oncomplete="if(#{armGroupManager.armGroupCodeExist}) { alert('Такой код Группы уже существует!');}else{hideMPCrt('#{armGroupManager.idArmGroupCrt}');}"  
                    onclick="if(check('CBformCrt')){return false;}"
                    styleClass="but_class">
                  <f:param name="onCreate" value="1"/>
                  <f:param name="remoteAudit" value="CrtFact"/> 
                  <f:param name="#{param['sessionId']!=null ? 'sessionId' : 'xxx1'}" value="#{param['sessionId']}"/> 
               </a4j:commandButton>
               <!--a4j:commandButton value="Сохранить"
                    action="#{armGroupManager.addArmGroup}"
                    reRender="outCenterCenter, outCenterCenterFooter"
                    oncomplete=" #{rich:component('CBmpCrt')}.hide();" 
                    onclick="if(check('CBformCrt')){return false;}"
                    styleClass="but_class">
                  <f:param name="onCreate" value="1"/>
                  <f:param name="remoteAudit" value="CrtFact"/> 
                  <f:param name="#{param['sessionId']!=null ? 'sessionId' : 'xxx1'}" value="#{param['sessionId']}"/> 
               </a4j:commandButton-->
             </td>
            </tr>
            </table>
            </h:form>
       </rich:modalPanel>
     </a4j:outputPanel>
     <a4j:outputPanel id="outCBmpUpd"> 
       <rich:modalPanel id="CBmpUpd" 
         rendered="#{param['onUpdate']!=null}"
         width="400" height="180">
          <f:facet name="header">
            <h:panelGroup>
                <h:outputText value="ИС"/>
             </h:panelGroup>
      </f:facet>
       <f:facet name="controls">
            <h:panelGroup>
                <h:graphicImage onclick="#{rich:component('CBmpUpd')}.hide();"
                value="/img/icons/close.gif"/>
              </h:panelGroup>
        </f:facet>
        <h:form id="CBformUpd">
        <!--h:inputHidden value="#{armGroupBean.idArmGroup}"/-->
         <table style="width:100%;">
             <tr>
            <td width="100px" height="25px">
            <h:outputText value="Название"/></td>
            <td><h:inputText value="#{armGroupBean.groupName}"
               id="name" maxlength="100" size="45"/></td>
            </tr>
            <tr>
            <td width="100px" height="25px">
            <h:outputText value="Код"/></td>
            <td>
             <!--h:outputText value="urn:group-eis:"/-->
             <h:inputText value="#{armGroupBean.groupCode}"
               id="code" maxlength="240" size="45"/>
            </td>
            </tr>
            <tr>
            <td width="100px" height="25px">
            <h:outputText value="Описание"/></td>
            <td>
            <h:inputTextarea value="#{armGroupBean.description}" 
            id="descr" cols="41" rows="3" />
            </td>
            </tr>
            <tr>
            <td colspan="2" align="center" height="35px">
            <a4j:commandButton value="Отмена"
                  onclick="#{rich:component('CBmpUpd')}.hide();return false;"
                  styleClass="but_class"/>
             <a4j:commandButton value="Сохранить"
                    action="#{armGroupManager.updArmGroup}"
                    reRender="outCenterCenter, outCenterBottom_onlyFields"
                    oncomplete="#{armGroupManager.armGroupCodeExist ? 'alert(\'Такой код ИС уже существует!\')' : 'hideMPUpd();' }" 
                    onclick="if(check('CBformUpd')){return false;}"
                    styleClass="but_class">
                     <f:param name="onUpdate" value="1"/>
                     <f:param name="remoteAudit" value="UpdFact"/> 
                     <f:param name="sessionId" value="#{param['sessionId']}"/>
              </a4j:commandButton>
              <!--a4j:commandButton value="Сохранить"
                    action="#{armGroupManager.updArmGroup}"
                    reRender="outCenterCenter, outCenterBottom"
                    oncomplete=" #{rich:component('CBmpUpd')}.hide();" 
                    onclick="if(check('CBformUpd')){return false;}"
                    styleClass="but_class">
                     <f:param name="onUpdate" value="1"/>
                     <f:param name="remoteAudit" value="UpdFact"/> 
                     <f:param name="sessionId" value="#{param['sessionId']}"/>
              </a4j:commandButton-->
             </td>
            </tr>
           </table>
         </h:form>
    </rich:modalPanel>
  </a4j:outputPanel>
  <a4j:outputPanel id="outCBmpDel">
   <rich:modalPanel id="CBmpDel" 
     rendered="#{param['onDelete']!=null}"
     width="300" autosized="true">
      <f:facet name="header">
            <h:panelGroup>
                <h:outputText value="ГруппаИС"/>
             </h:panelGroup>
      </f:facet>
       <f:facet name="controls">
            <h:panelGroup>
                <h:graphicImage onclick="#{rich:component('CBmpDel')}.hide();"
                value="/img/icons/close.gif" />
              </h:panelGroup>
        </f:facet>
        <h:form>
         <h:inputHidden value="#{armGroupBean.idSrv}"/>
         
        <h:outputText style="color:red;display:block;margin-bottom:7px;"
          value="#{armGroupManager.dellMessage}" escape="false"/>
          
        <c:if test="#{armGroupManager.delNot==0}">  
         <h:outputText style="display:block;margin-bottom:7px;"
          value="Удалить #{armGroupBean.groupName}?"/>
        </c:if>
         
         <div style="white-space: nowrap;text-align:center;">
              <a4j:commandButton value="Отмена" 
                   onclick="#{rich:component('CBmpDel')}.hide();return false;"
                   styleClass="but_class"/>
             <c:if test="#{armGroupManager.delNot==0}">        
              <a4j:commandButton value="Удалить"
                    action="#{armGroupManager.delArmGroup}"
                    reRender="outCenterCenter, outCenterCenterFooter, outCenterBottom, outCenterCenterHeader"
                    oncomplete=" #{rich:component('CBmpDel')}.hide();" 
                    styleClass="but_class">
                      <f:param name="onDelete" value="1"/>
                      <f:param name="remoteAudit" value="DelFact"/>
               </a4j:commandButton>
              </c:if> 
              </div>
           </h:form>
        </rich:modalPanel>
    </a4j:outputPanel>
    
    <a4j:outputPanel id="outCBmpUpdIS">  
      <rich:modalPanel id="CBmpUpdIS" rendered="#{param['onUpdateIS']!=null}"
        width="600" autosized="true" onshow="setHDiv_min_proSoft_top('CBmpUpdISHDiv', 'CBmpUpdISCDiv', 10);">
        <f:facet name="header">
            <h:panelGroup>
                <h:outputText value="ИС"></h:outputText>
             </h:panelGroup>
        </f:facet>
        <f:facet name="controls">
            <h:panelGroup>
                <h:graphicImage onclick="#{rich:component('CBmpUpdIS')}.hide();"
                value="/img/icons/close.gif"/>
              </h:panelGroup>
        </f:facet>
        <div id="CBmpUpdISHDiv" style="width:100%;overflow:auto;">
        <h:form id="CBformUpdIS">
        
        <!--h:inputHidden id ="uorgid" value="#{usrBean.acClOrganization}"/>
        <h:inputHidden id ="ucluid" value="#{usrBean.acClUser}"/-->
          
         <table style="width:90%;">
     
   
            <tr>
             <td width="100px" valign="top">
                <h:outputText value="ИС:"/>
            </td>
            <td>
             <a4j:outputPanel id="outCBdtUpdIS_dtbl">     
              <rich:dataTable id="CBdtUpdIS" style="width:100%" 
                               rowKeyVar="rkv" var="it_gr"
                               value="#{armGroupManager.ISList}" rows="15">
                      <f:facet name="header">
                        <rich:columnGroup>
                         <rich:column>
                              <h:outputText value=" " />
                          </rich:column>
                          <rich:column>
                              <h:outputText value="Название" />
                              <br/>
                              <h:inputText value="#{armGroupISStateHolder.columnFilterValues['o.name']}" 
		                              immediate="true" id="iaf_g_name" onkeypress="if(event.keyCode==13){invokeMyStart_IS();}">
		                      </h:inputText>
                     
                          </rich:column>
                           <rich:column>
                              <h:outputText value="Код" />
                              <br/>
                              <h:inputText value="#{armGroupISStateHolder.columnFilterValues['o.code']}" 
		                              immediate="true" id="iaf_g_code" onkeypress="if(event.keyCode==13){invokeMyStart_IS();}">
		                      </h:inputText>
                          </rich:column>
                        </rich:columnGroup>
                     </f:facet>
 
                     <rich:column>
                       <h:selectBooleanCheckbox value="#{it_gr.usrChecked}" id="CBsdtchbUpd"/>
                    </rich:column>
                    <rich:column>
                          <h:outputText value=" #{it_gr.name}" />
                     </rich:column>
                    <rich:column>
                            <h:outputText value=" #{it_gr.code}" />
                     </rich:column>
                </rich:dataTable>
               </a4j:outputPanel>    
                
                <a4j:outputPanel id="outCBdtUpdIS_dscr">
                 <rich:datascroller align="center" for="CBdtUpdIS" 
                          maxPages="5" stepControls="hide" 
                          id="CBdtUpdIS_dscr" immediate="true"
                          renderIfSinglePage="false"
                          ajaxSingle="true"
                          style="padding: 10px 100px 0 0;"
                          page="#{armGroupStateHolder.pageNumber}"
                          oncomplete="setHDiv_min_proSoft_top_rmp('CBmpUpdISHDiv', 'CBmpUpdISCDiv', 25);">
                    <f:param name="sessionId" value="#{param['sessionId']}"/>
                    <f:param name="remoteAudit" value="dScrollFact"/>
                    <f:param name="onUpdateIS" value="1"/>
              </rich:datascroller>    
              
               <a4j:jsFunction name="invokeMyStart_IS" 
                 reRender="outCBdtUpdIS_dtbl, outCBdtUpdIS_dscr"
                 oncomplete="setHDiv_min_proSoft_top_rmp('CBmpUpdISHDiv', 'CBmpUpdISCDiv', 25);setCaretToEnd(event);"
                 action="#{armGroupManager.ISReset}">
                   <f:param name="sessionId" value="#{param['sessionId']}"/>
                   <f:param name="remoteAudit" value="dScrollFact"/>
                   <f:param name="onUpdateIS" value="1"/>
               </a4j:jsFunction>
              
            </a4j:outputPanel>        
             </td>
            </tr>

            
            <tr>
            <td colspan="2" align="center" height="35px">
          
                 <a4j:commandButton value="Закрыть"
                     onclick="#{rich:component('CBmpUpdIS')}.hide();return false;"
                     styleClass="but_class"/>
               <a4j:outputPanel id="outCBmpUpdRoleButton"> 
                   
                 <a4j:commandButton value="Сохранить"
                    action="#{armGroupManager.updIS}"
                    reRender="outCenterBottom, outCBdtUpdIS_dtbl, outCBdtUpdIS_dscr"
                    styleClass="but_class" >
                    <!--f:param name="idArm" value="#{param['idArm']}"/-->
                    <f:param name="onUpdateIS" value="1"/> 
                    <f:param name="remoteAudit" value="UpdFact"/> 
                    <f:param name="sessionId" value="#{param['sessionId']}"/>
                    <f:param name="saveEditFlag" value="1"/>
                </a4j:commandButton>
                
                <!--a4j:commandButton value="Сохранить"
                    action="#{usrManager.updUsrGroup}"
                    reRender="outCenterCenter, outCenterBottom"
                    oncomplete="#{rich:component('CBmpUpdGroup')}.hide();"
                    styleClass="but_class" >
                    <f:param name="idArm" value="#{param['idArm']}"/>
                    <f:param name="onUpdateGroup" value="1"/> 
                    <f:param name="remoteAudit" value="UpdFact"/> 
                    <f:param name="sessionId" value="#{param['sessionId']}"/>
                    <f:param name="saveEditFlag" value="1"/>
                </a4j:commandButton-->
              
              </a4j:outputPanel>
             </td>
            </tr>
           </table>
          </h:form>
         </div>
     </rich:modalPanel>
  </a4j:outputPanel>
    
  <a4j:outputPanel id="outCBmpCert">
   <rich:modalPanel id="CBmpCert" 
     rendered="#{param['onCert']!=null}"
     width="400" autosized="true">
      <f:facet name="header">
            <h:panelGroup>
                <h:outputText value="Сертификаты"/>
             </h:panelGroup>
      </f:facet>
       <f:facet name="controls">
            <h:panelGroup>
                <h:graphicImage onclick="#{rich:component('CBmpCert')}.hide();"
                value="/img/icons/close.gif" />
              </h:panelGroup>
        </f:facet>
         
        <h:outputText style="display:block;margin-bottom:7px;"
          value="Сертификат:"/>
        
       <c:if test="#{systemCertBean.serial!=null}"> 
          
       <table width="99%" border="1" style="border-color:silver; margin-bottom:7px;">
        <tr valign="top" >
         <td width="70" style="font-style:italic;padding:5px;border-color:silver;">
          <h:outputText value="Срок действия:"/>
         </td>
          <td style="padding:5px;border-color:silver;">
          <h:outputText  value=" #{systemCertBean.date1} - #{systemCertBean.date2}"/>
         </td>
         </tr>
        <tr valign="top" >
         <td width="70" style="font-style:italic;padding:5px;border-color:silver;">
          <h:outputText value="Номер:"/>
         </td>
          <td style="padding:5px;border-color:silver;">
          <h:outputText  value=" #{systemCertBean.serial}"/>
         </td>
         </tr>
        <tr valign="top">
         <td width="70" style="font-style:italic;padding:5px;border-color:silver;">
           <h:outputText  value="Субъект:"/>
         </td>
         <td style="padding:5px;border-color:silver;">
           <h:outputText value="#{systemCertBean.name}"/>
         </td>
        </tr>
        </table>
       </c:if>
       <c:if test="#{systemCertBean.serial==null}">
            <h:outputText value="Сертификат отсутствует" 
            style="color:red; display:block; margin-bottom:7px;"/>
         </c:if>
         
          <form target="frame" 
                action="/infoscud/servlet/fileupload?sessionId=#{param['sessionId']}&amp;typeSystem=groupsystem"
                method="post"
                enctype="multipart/form-data" 
                id="CBformCert">
      
            <!--INPUT TYPE="HIDDEN" NAME="sessionId" VALUE="#{param['sessionId']}"/-->
      
            <input name="cert_file" type="file" id="cert_file"/>
    
            <!--h:commandButton value=">1>" action="#{proba.action()}" /-->
      
           
           
         <div style="white-space: nowrap;text-align:center; margin-top:15px;">
              <a4j:commandButton value="Отмена" 
                   onclick="#{rich:component('CBmpCert')}.hide();return false;"
                   styleClass="but_class"/>
              <h:commandButton value="Загрузить"  
              onclick="if(check_cert()){return false;}else{iframeLoadFlag=1;}"/>
             
             <c:if test="#{systemCertBean.serial!=null}">
             <a4j:commandButton value="Удалить"
                    onclick="if(confirm('Удалить сертификат?')){invokeCertRemove(#{param['sessionId']});} return false;"
                    styleClass="but_class"/>
                    
         </c:if> 
             
        </div>
  </form>
           
            <iframe name="frame" style="display: none;" 
           onload="load_iframe(#{param['sessionId']})"/>
           
        </rich:modalPanel>
    </a4j:outputPanel>
  </div>
 
 <script>
//<![CDATA[

var iframeLoadFlag=0;          
           
function check(tform){
 var msg="";
 if (jQuery.trim(document.getElementById(tform+":name").value)==""){
	  msg+="Нет Наименования !\n";
 }
 if (jQuery.trim(document.getElementById(tform+":code").value)==""){
	  msg+="Нет Кода !\n";
 }else{
	 if( jQuery.trim(document.getElementById(tform+":code").value).search(new RegExp(/[А-яёЁ]/g)) !=-1){
		 msg+="В Коде недопустима кириллица !\n";
     }
 }
 if (jQuery.trim(document.getElementById(tform+":descr").value)==""){
	 // msg+="Нет Описания !\n";
 }else{
	 if(jQuery.trim(document.getElementById(tform+":descr").value).length>500){
		    msg+="Превышена длина поля Описание!\n";
	 }
  }
		 
 
 if(msg!=""){
  alert(msg);
  return true;
 }else{
  return false;
}
}

function check_cert(){
	 var msg="";
	 if (jQuery.trim(document.getElementById("cert_file").value)==""){
		  msg+="Файл не выбран!\n";
	 }

	 
	 if(msg!=""){
	  alert(msg);
	  return true;
	 }else{
	  return false;
	}
 }

function hideMPCrt(idUser){
	#{rich:component('CBmpCrt')}.hide();

	invokeRemoteAuditBeanContext(
			idUser,
	        'rowSelectFact');
}

function hideMPUpd(){
	#{rich:component('CBmpUpd')}.hide();
}

function load_iframe(sessionId){
	//alert(iframeLoadFlag);
	if(iframeLoadFlag==1){
		invokeCertRefresh(sessionId);
	}
}

function setHDiv_min_proSoft_top(hdiv, cdiv, size){

   	if(jQuery('#'+hdiv).height()>Math.floor(jQuery(window).height()*(3/4)-size)){
	   jQuery('#'+hdiv).height(Math.floor(jQuery(window).height()*(3/4)-size));

	   //!!! set top only haight>
       jQuery('#'+cdiv).css('top',Math.floor(jQuery(window).height()*(1/2)-jQuery('#'+hdiv).height()*(1/2)));
	} 
}

function setHDiv_min_proSoft_top_rmp(hdiv, cdiv, size){

	//!!! reset to small
	resetHDiv_min(hdiv);

   	if(jQuery('#'+hdiv).height()>Math.floor(jQuery(window).height()*(3/4)-size)){
	   jQuery('#'+hdiv).height(Math.floor(jQuery(window).height()*(3/4)-size));
	} 
 	
    //!!! set top always
	jQuery('#'+cdiv).css('top',Math.floor(jQuery(window).height()*(1/2)-jQuery('#'+hdiv).height()*(1/2)));
 	
}

function resetHDiv_min(hdiv){
   jQuery('#'+hdiv).height('auto');
}

//]]>
</script>
</ui:composition>
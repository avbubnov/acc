<?xml version='1.0' encoding='windows-1251' ?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:s="http://jboss.com/products/seam/taglib"> 

<head>
 <link rel="stylesheet" type="text/css" href="/infos/stylesheet/theme.css"/>
  </head> 
       <body>
         <h:outputText value="#{auditZagsReportsManager.nameReport}"
         style="font-weight:bold;" /> 
    	  <br/>
    	  <h:outputText value="Период: "/> 
    	  <h:outputText value="c #{param['date1']}" rendered="#{param['date1']!=''}"/>
    	  <h:outputText value="по #{param['date2']}" rendered="#{param['date2']!=''}"/>
    	  <h:outputText value="Всё время " rendered="#{param['date1']=='' and param['date2']==''}"/> 
    
		 <rich:dataTable id="rep_dt" style="width:100%" var="it"
           value="#{auditZagsReportsManager.reportItemsList}" rowKeyVar="rkv">
            <f:facet name="header">
              <rich:columnGroup>
                   <rich:column>
                         <h:outputText value="№" />
                   </rich:column>
                   <rich:column>
                        <h:outputText value="CURRDATE" />
                   </rich:column>
                   <rich:column rendered="#{param['contextTable']=='true'}">
                        <h:outputText value="TABLE_NAME" />
                   </rich:column>
                   <rich:column>
                         <h:outputText value="QDELETE" />
                   </rich:column>
                   <rich:column>
                        <h:outputText value="QINSERT" />
                    </rich:column>
                   <rich:column>
                        <h:outputText value="QSELECT" />
                   </rich:column>
                   <rich:column>
                        <h:outputText value="QUPDATE" />
                   </rich:column>
                  </rich:columnGroup>
             </f:facet>
             <rich:column>
                <h:outputText value="#{rkv+1}"/>
             </rich:column>
             <rich:column >
              <h:outputText value="#{it.currdate}">
                      <s:convertDateTime pattern="dd.MM.yyyy"/>
               </h:outputText> 
             </rich:column>
             <rich:column rendered="#{param['contextTable']=='true'}">
                <h:outputText value="#{it.tableName}"/>
             </rich:column>
             <rich:column>
                  <h:outputText value="#{it.qdelete}"/>
             </rich:column>
             <rich:column >
                <h:outputText value="#{it.qinsert}"/>
             </rich:column>
             <rich:column>
                  <h:outputText value="#{it.qselect}"/>
             </rich:column>
             <rich:column >
                <h:outputText value="#{it.qupdate}"/>
             </rich:column>
           </rich:dataTable>
 </body> 
</html>

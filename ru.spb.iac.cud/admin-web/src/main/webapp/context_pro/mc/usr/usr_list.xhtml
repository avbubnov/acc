<?xml version='1.0' encoding='windows-1251' ?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich">
<body>
    <ui:composition template="/templates/template_JQ_pro.xhtml">
     <ui:param name="pageNameCenter" value="Список Пользователей"/>
     <ui:param name="pageNameBottom" value="Пользователь"/>
        <ui:define name="topUnit">
            <ui:include src="/context_pro/incl/topUnit.xhtml"/>
        </ui:define> 
           
        <ui:define name="bottomUnit">
            <ui:include src="/context_pro/incl/bottomUnit.xhtml" />
        </ui:define>
        
        <ui:define name="leftUnit">
            <ui:include src="/context_pro/incl/leftUnit.xhtml" />
        </ui:define>
        
        <ui:define name="centerCenterUnit">
 
        
         <h:form id="fAuditList">
            <div class="middle-center" style="padding:0!important;">
             <a4j:outputPanel id="outInvokeForSort">
               <a4j:jsFunction name="invokeSort" 
                   reRender="outCenterCenter"
                   action="#{usrStateHolder.sort}"
                   ajaxSingle="true">
                <f:param name="#{param['sessionId']!=null ? 'sessionId' : 'xxx1'}"/>
                <f:param name="remoteAudit"/>
                <f:param name="itemField"/>
              </a4j:jsFunction>
               <a4j:jsFunction name="invokeArmSelect" 
                ajaxSingle="true" reRender="outCBmpUpdRoleList, outCBmpUpdRoleButton" 
                oncomplete="/*setMPTop();setHDiv('CBmpUpdRoleHDiv');*/setHDiv_min_proSoft_top_rmp('CBmpUpdRoleHDiv', 'CBmpUpdRoleCDiv', 25);"
                action="#{usrStateHolder.resetPageNumber}">
                  <f:param name="idArm"/>
                  <f:param name="onUpdateRole" value="1"/> 
                  <f:param name="remoteAudit" value="armSelectFact"/>
                  <f:param name="sessionId" value="#{param['sessionId']}"/>
               </a4j:jsFunction>
             </a4j:outputPanel>
             <a4j:jsFunction name="invokeRemoteAuditBean" 
                 reRender="outInvokeForSort, outCenterCenterHeader, outCenterCenter, outCenterCenterFooter, outCenterBottom, outCenterBottomFooter"
                 action="#{usrManager.forView('usrDataModel')}"
                 ajaxSingle="true">
               <f:param name="sessionId"/>
               <f:param name="remoteAudit"/>
               <f:param name="auditListCount"/>
             </a4j:jsFunction>
             <a4j:jsFunction name="invokeRemoteAuditBeanContext" 
                 reRender="outInvokeForSort, outCenterCenterHeader, outCenterCenter, outCenterCenterFooter, outCenterBottom, outCenterBottomFooter"
                 action="#{usrManager.forView('usrDataModel')}"
                 ajaxSingle="true">
               <f:param name="sessionId"/>
               <f:param name="remoteAudit"/>
              </a4j:jsFunction>
             <a4j:jsFunction name="invokeRemoteAudit" 
                reRender="outCenterCenterHeader, outCenterCenter,outCenterCenterFooter,outCenterBottomFooter">
                  <f:param name="remoteAudit" value="1"/>
                  <f:param name="actSect" value="#{param['actSect']}"/>
                  <f:param name="actSectItem" value="#{param['actSectItem']}"/>
              </a4j:jsFunction>
              <a4j:jsFunction name="invokeClOrgSelect" 
                ajaxSingle="true" reRender="outCBmpOrgHiddenCrt, outCBmpUsrCrt, outCBmpUsrDataCrt, outInvokeForTypeUserInput"
                action="#{clOrgManager.forViewAutocomplete()}">
                  <f:param name="signObject"/>
                  <f:param name="onCreate" value="1"/> 
                  <f:param name="remoteAudit" value="clOrgSelectFact"/>
               </a4j:jsFunction>
               <a4j:jsFunction name="invokeClUsrSelect" 
                ajaxSingle="true" reRender="outCBmpUsrDataCrt"
                action="#{clUsrManager.forViewAutocomplete()}">
                  <f:param name="signObject"/>
                  <f:param name="onCreate" value="1"/> 
                  <f:param name="remoteAudit" value="clUsrSelectFact"/>
               </a4j:jsFunction>
             <a4j:outputPanel id="outInvokeForTypeUserInput">
               <a4j:jsFunction name="invokeTypeUserInput" 
                ajaxSingle="true" reRender="outCBmpUsrFIOSectCrt">
                  <f:param name="typeUserInput"/>
                  <f:param name="onCreate" value="1"/> 
                  <f:param name="remoteAudit" value="clUsrTUIFact"/>
                  <f:param name="#{param['signObject']!=null ? 'signObject' : 'xxx1'}" value="#{param['signObject']}"/>
               </a4j:jsFunction>
               </a4j:outputPanel>
              <a4j:jsFunction name="invokeUCCert" 
                reRender="outCBmpUserCert"
                ajaxSingle="true"
                action="#{usrManager.updUsrUCCert()}"
                oncomplete="set_disable2();/*#{rich:component('CBmpUpdCert')}.hide();*/">
                  <f:param name="idReestr"/>
                  <f:param name="sessionId_crack"/>
                  <f:param name="remoteAudit" value="bindRecords"/>
                  <f:param name="onUpdateCert" value="1"/>
               </a4j:jsFunction> 
               <a4j:jsFunction name="invokeUCCertMulti" 
                   reRender="outCBmpUserCert"
                   action="#{usrManager.updUsrUCCertMulti()}"
                   ajaxSingle="true" 
                   oncomplete="numFiles='';set_disable();/*#{rich:component('CBmpUpdCert')}.hide();*/">
                <f:param name="numFiles"/> 
                <f:param name="sessionId_crack"/> 
                <f:param name="remoteAudit" value="bindRecords"/>
                <f:param name="onUpdateCert" value="1"/>
            </a4j:jsFunction>
            <a4j:jsFunction name="invokeUCCertRemove" 
                   reRender="outCBmpUserCert"
                   action="#{usrManager.updUsrUCCertRemove()}"
                   ajaxSingle="true" 
                   oncomplete="/*set_enable2();*/">
                <f:param name="idSrvUserCert"/> 
                <f:param name="sessionId_crack"/>
                <f:param name="remoteAudit" value="bindRecords"/>
                <f:param name="onUpdateCert" value="1"/>
            </a4j:jsFunction>
            
            <a4j:jsFunction name="invokeCertRefresh" 
                 reRender="outCBmpUserCert"
                 action="#{usrManager.loadUserCert()}"
                 ajaxSingle="true" 
                 oncomplete="set_disable2(); iframeLoadFlag=0;#{rich:component('CBmpCert')}.hide();">
               <f:param name="sessionId_crack"/>   
               <f:param name="remoteAudit" value="UpdFact"/>
               <f:param name="onUpdateCert" value="1"/> 
             </a4j:jsFunction>
             
             <ui:include src="/context_pro/mc/usr/centerCenterUnitUsrList.xhtml" />
            </div>
         </h:form>    
        </ui:define>
        <ui:define name="centerBottomUnit">
             <ui:include src="/context_pro/mc/usr/centerBottomUnitUsrList.xhtml" />
        </ui:define>
    </ui:composition> 
</body> 
</html>
